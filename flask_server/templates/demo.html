{% extends 'layout.html' %}

{% block body %}
    {# https://stackoverflow.com/questions/23273216/how-to-display-data-from-a-json-object-with-sigma-js #}

    <p>aLorem ipsum dolor sit amet, consectetur adipisicing elit. Dolorum eos eveniet ullam. Adipisci at autem
        blanditiis
        commodi cum fugit, incidunt iure laboriosam nihil officiis provident similique sit ullam, veniam voluptates!</p>

    <div class="row">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    Your query graph (json format):
                </div>
                <div class="card-body">
                    <form>
            <textarea id="query_input" rows="20" class="form-control" disabled style="min-width: 100%">
            </textarea>
                    </form>
                </div>
            </div>

        </div>
        <div class="col-md-6">

            <div class="card">
                <div class="card-header">
                    graph:
                </div>
                <div class="card-body">
                    <div style="height: 300px" id="query-container"></div>
                </div>
            </div>
        </div>
    </div>
    <br>
    <div class="clearfix"><a href="#" class="btn btn-primary float-md-right">Execute query</a></div>


    <script>
        const query_string = '{\n' +
            '  "nodes": [\n' +
            '    {\n' +
            '      "id": "n0",\n' +
            '      "label": "A node",\n' +
            '      "x": 0,\n' +
            '      "y": 0,\n' +
            '      "size": 3\n' +
            '    },\n' +
            '    {\n' +
            '      "id": "n1",\n' +
            '      "label": "Another node",\n' +
            '      "x": 3,\n' +
            '      "y": 1,\n' +
            '      "size": 2\n' +
            '    },\n' +
            '    {\n' +
            '      "id": "n2",\n' +
            '      "label": "And a last one",\n' +
            '      "x": 1,\n' +
            '      "y": 3,\n' +
            '      "size": 1\n' +
            '    }\n' +
            '  ],\n' +
            '  "edges": [\n' +
            '    {\n' +
            '      "id": "e0",\n' +
            '      "source": "n0",\n' +
            '      "target": "n1"\n' +
            '    },\n' +
            '    {\n' +
            '      "id": "e1",\n' +
            '      "source": "n1",\n' +
            '      "target": "n2"\n' +
            '    },\n' +
            '    {\n' +
            '      "id": "e2",\n' +
            '      "source": "n2",\n' +
            '      "target": "n0"\n' +
            '    }\n' +
            '  ]\n' +
            '}';
        $(document).ready(function () {
            $('#query_input').val(query_string);
            s = new sigma({
        graph: JSON.parse(query_string),
        container: 'query-container',
        settings: {
            defaultNodeColor: '#2a0c8d',
            drawLabels: true,
            labelThreshold: 0
        }
});
        });
    </script>
    <script src="{{ url_for('static', filename='sigma.js/build/sigma.min.js') }}"></script>
    <script src="{{ url_for('static', filename='sigma.js/build/plugins/sigma.parsers.json.min.js') }}"></script>
{% endblock %}